@model IEnumerable<NHOM10_DACS_QLVIPHAM.Models.CongDan>
@{
    ViewData["Title"] = "Quản lý công dân";
}

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
        <h2 class="text-2xl font-bold text-gray-800 mb-4 md:mb-0">Quản lý thông tin công dân</h2>
        <form method="get" class="flex gap-2">
            <input type="text" name="search" value="@ViewBag.Search" placeholder="Tìm kiếm tên, mã thẻ, SĐT..." class="border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-400 outline-none" />
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition">Tìm kiếm</button>
            <a asp-action="TaoCongDan" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition ml-2">+ Thêm công dân</a>
        </form>
    </div>

    <div class="overflow-x-auto bg-white rounded-xl shadow-lg">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-blue-50">
                <tr>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Mã công dân</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Tên công dân</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Ngày sinh</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Giới tính</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Địa chỉ</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">SĐT</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Email</th>
                    <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase">Mã thẻ CCCD</th>
                    <th class="px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase">Thao tác</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-100">
                @if (!Model.Any())
                {
                    <tr>
                        <td colspan="9" class="text-center py-6 text-gray-500">Không có công dân nào phù hợp.</td>
                    </tr>
                }
                else
                {
                    foreach (var cd in Model)
                    {
                        <tr class="hover:bg-blue-50 transition">
                            <td class="px-4 py-3">@cd.MaCongDan</td>
                            <td class="px-4 py-3 font-semibold text-gray-800">@cd.TenCongDan</td>
                            <td class="px-4 py-3">@cd.NgaySinh.ToString("dd/MM/yyyy")</td>
                            <td class="px-4 py-3">@cd.GioiTinh</td>
                            <td class="px-4 py-3">@cd.DiaChi</td>
                            <td class="px-4 py-3">@cd.SDT</td>
                            <td class="px-4 py-3">@cd.GMAIL</td>
                            <td class="px-4 py-3">@cd.MaTheCC</td>
                            <td class="px-4 py-3 text-center">
                                <a asp-action="ChiTietCongDan" asp-route-id="@cd.MaCongDan" class="inline-block text-blue-600 hover:underline font-medium px-2">Chi tiết</a>
                                <a asp-action="ChinhSuaCongDan" asp-route-id="@cd.MaCongDan" class="inline-block text-yellow-600 hover:underline font-medium px-2">Sửa</a>
                                <!-- Nếu muốn xóa, bỏ comment dòng dưới -->
                                <!-- <a asp-action="XoaCongDan" asp-route-id="@cd.MaCongDan" class="inline-block text-red-600 hover:underline font-medium px-2" onclick="return confirm('Bạn chắc chắn muốn xóa?');">Xóa</a> -->
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
</div> 